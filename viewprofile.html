<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>BreakoutZone</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="One page parallax responsive HTML Template">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="author" content="Themefisher">
    <meta name="generator" content="Themefisher Bingo HTML Template v1.0">
    <meta name="theme-name" content="bingo" />
    <link rel="shortcut icon" type="image/x-icon" href="../images/breakoutzone.jpg" />
    <link rel="stylesheet" href="plugins/themefisher-font/style.css">
    <link rel="stylesheet" href="plugins/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="plugins/lightbox2/css/lightbox.min.css">
    <link rel="stylesheet" href="plugins/animate/animate.css">
    <link rel="stylesheet" href="plugins/slick/slick.css">
    <link rel="stylesheet" href="css/_common.css">
    <link rel="stylesheet" href="css/_responsive.css">
    <link rel="stylesheet" href="css/_typography.css">
    <link rel="stylesheet" href="css/templates/_404.css">
    <link rel="stylesheet" href="css/templates/_about_us.css">
    <link rel="stylesheet" href="css/templates/_blog.css">
    <link rel="stylesheet" href="css/templates/_blogBZ.css">
    <link rel="stylesheet" href="css/templates/_call-to-action.css">
    <link rel="stylesheet" href="css/templates/_commmunity.css">
    <link rel="stylesheet" href="css/templates/_contact.css">
    <link rel="stylesheet" href="css/templates/_counter.css">
    <link rel="stylesheet" href="css/templates/_header.css">
    <link rel="stylesheet" href="css/templates/_footer.css">
    <link rel="stylesheet" href="css/templates/_hero-area.css">
    <link rel="stylesheet" href="css/templates/_navigation.css">
    <link rel="stylesheet" href="css/templates/_portfolio.css">
    <link rel="stylesheet" href="css/templates/_pricing.css">
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <script src="https://kit.fontawesome.com/beecdd24a6.js" crossorigin="anonymous"></script>
    <style>
        .profile-container {
            max-width: 600px;
            width: 100%;
            padding: 30px;
            border-radius: 5px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
    </style>
</head>

<body id="body">

    <!-- Start Preloader -->
    <div id="preloader">
        <div class='preloader'>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>
    <!-- End Preloader -->

    <!-- Fixed Navigation -->
    <header class="navigation fixed-top">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light px-0">
                <a class="navbar-brand logo" href="index.html">
                    <img loading="lazy" class="logo-default" src="images/160.png" alt="logo" />
                    <img loading="lazy" class="logo-white" src="images/white.png" alt="logo" />
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
                    aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navigation">
                    <ul class="navbar-nav ml-auto text-center">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="blog.html">Resources</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#!" id="navbarDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Community <i class="tf-ion-chevron-down"></i>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li><a class="dropdown-item" href="community.html">BreakoutZone Traders</a></li>
                                <li><a class="dropdown-item" href="community_admin.html">BreakoutZone Community</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Strategies</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html">Contact</a>
                        </li>
                        <li class="nav-item sign-btn">
                            <a class="nav-link" href="sign.html">
                                <button id="sign-in">
                                    Sign in
                                    <div class="arrow-wrapper">
                                        <div class="arrow"></div>
                                    </div>
                                </button>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>
    <!-- End Fixed Navigation -->

    <!-- Page Header -->
    <section class="single-page-header">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h2>Profile</h2>
                    <ol class="breadcrumb header-bradcrumb justify-content-center">
                        <li class="breadcrumb-item"><a href="index.html" class="text-white">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Profile</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>
    <!-- End Page Header -->

    <!-- Main Content -->


    <main class="community">
        <section id="user">

            <div class="card-small">
                <img
                    src="https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.freepik.com%2Ffree-photos-vectors%2Fimg-file&psig=AOvVaw1I53xtykinAfADyS95ub_g&ust=1722921085622000&source=images&cd=vfe&opi=89978449&ved=0CBEQjRxqFwoTCMiy66uL3YcDFQAAAAAdAAAAABAE">
                <!-- <p>Abinash S</p> -->
                <div>
                    <a href="" class="btn">View profile</a>
                </div>


            </div>

            <div class="card-container">

                <div class="upper-container">
                    <div class="image-container">
                        {% if myuser.profile_pic %}
                        <img src="data:image/jpeg;base64,{{ myuser.profile_pic | b64encode }}" alt="Profile Picture">
                        {% endif %}
                    </div>
                </div>

                <div class="lower-container">
                    <div>
                        <h3>{{ myuser.username }}</h3>
                        <br>
                    </div>
                    <div>
                        <p>Email: {{ myuser.email }}</p>
                        <p>Phone: {{ myuser.phoneno }}</p>
                    </div>
                    <div>

                        <button type="button" class="btn btn-primary" data-toggle="modal"
                            data-target="#exampleModalCenter">
                            Edit Profile
                        </button>

                        <!-- Modal -->
                        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLongTitle">Edit Profile</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body profile-container">
                                        <div class="edit-profile-form" id="edit-profile-form">
                                            <form action="/updateprofile" method="post" enctype="multipart/form-data">
                                                <div style="display: flex;align-items: center;gap: 5px;">
                                                    <label style="width: 25%;text-align: left;"
                                                        for="profile-picture">Add/Change<br>Profile Picture:</label>
                                                    <input type="file" style="min-width:60%" id="profile-picture"
                                                        name="profile-picture">
                                                </div>

                                                <div style="display: flex;align-items: center;gap: 5px;">
                                                    <label style="width: 25%;text-align: left;"
                                                        for="username">Username:</label>
                                                    <input type="text" style="min-width:60%" id="username"
                                                        name="username" value="{{ user.username }}" required>
                                                </div>

                                                <div style="display: flex;align-items: center;gap: 5px;">
                                                    <label style="width: 25%;text-align: left;"
                                                        for="email">Email:</label>
                                                    <input type="email" style="min-width:60%" id="email" name="email"
                                                        value="{{ user.email }}" required>
                                                </div>

                                                <div style="display: flex;align-items: center;gap: 5px;">
                                                    <label style="width: 25%;text-align: left;" for="phoneno">Phone
                                                        Number:</label>
                                                    <input type="text" style="min-width:60%" id="phoneno" name="phoneno"
                                                        value="{{ user.phoneno }}" required>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-dismiss="modal">Close</button>
                                        <button type="submit" class="btn btn-primary">Save changes</button>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </section>
        <section id="post">
            <div class="pricing">
                <br>
                <div class="innerDiv">
                    <img src="{{ url_for('static', filename='profile.png') }}" href="/profilee" alt="Avatar"
                        class="avatar">
                    <button href="/post" class="pricingButon">
                        What's on your mind?
                    </button>
                </div>
                <br>
            </div>
            <!-- <div class="post-card">
        {% for post in posts %}
        <div class="card-img-holder">
          {% for user in users %}
                {% if user.username == post.username %}
          <div class="user-container">
            <img src="data:profile_pic/jpeg;base64,{{ user.profile_pic | b64encode }}" class="avatar-small">
            <a style="font-size: large;">{{ post.username }}</a>
          </div>
          {% endif %}
                  {% endfor %}	
          {% if post.image %}
          <img src="data:image/jpeg;base64,{{ post.image|b64encode }}" alt="Post Image">
          {% endif %}
      
        </div>
        <h3 class="blog-title">{{ post.post_title }}</h3>
        <span class="blog-time">Posted on: {{ post.post_date }}</span>
        
        <p class="description">
          {{ post.post_content }}
          <br>
          Posted by: {{ post.username }}
        </p>
        <div class="options">
          <div class="comment-container">
            <div class="comment-icon">
              <i class="fa-regular fa-thumbs-up" id="like" data-post-id="{{ post.post_id }}"></i>
              
            </div>
            <div class="comment-icon">
              <i class="fa-regular fa-comment" id="comment"></i>
            </div>
            <div class="comment-form">
              <form class="add-comment-form" action="/addcomment" method="POST">
                <input type="hidden" name="post_id" value="{{ post.post_id }}">
                <textarea name="comment_content" placeholder="Write your comment..."></textarea>
                <button type="submit">Add Comment</button>
              </form>
            </div>
  
            <p>Likes: <span id="like-count-{{ post.post_id }}">{{ like_counts.get(post.post_id, 0) }}</span></p>
          </div>
        </div>
        {% endfor %}
      </div> -->
            <div class="post-card">
                <div class="card-img-holder">

                    <div class="user-container">
                        <div class="user-details">
                            <img src="/source/images/man.webp" class="avatar-small">
                            <a style="font-size: large;">Abinash</a>
                        </div>
                        <div class="post-edit-options">
                            <div id="options-icon">
                                <i class="fa-solid fa-ellipsis-vertical"></i>
                            </div>
                            <div id="options-menu" class="edit-options hidden">
                                <ul>
                                    <div class="post-edit-icons icon-1">
                                        <i class="fa-regular fa-pen-to-square"></i>
                                        <li>Edit</li>
                                    </div>
                                    <div class="post-edit-icons icon-2">
                                        <i class="fa-sharp fa-solid fa-trash"></i>
                                        <li>Delete</li>
                                    </div>
                                    <div class="post-edit-icons icon-3">
                                        <i class="fa-regular fa-flag"></i>
                                        <li>Report</li>
                                    </div>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <img src="https://images.unsplash.com/photo-1640102953836-5651f5d6b240?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1024&q=80"
                        alt="Blog image" id="profilePostImage">
                    <div class="delete-image hidden">
                        <h6>Delete image</h6>
                        <i class="fa-solid fa-trash post-img-delete"></i>
                    </div>
                    <div class="update-image hidden">
                        <h6>Update image</h6>
                        <input type="file">
                    </div>
                </div>
                <div class="contenteditable-area">
                    <h3 class="blog-title">Learn Microinteraction</h3>
                    <span class="blog-time">Posted on Monday Jan 20, 2020</span>
                    <p class="description">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam sagittis viverra turpis, non
                        cursus ex
                        accumsan at.
                    </p>
                </div>

                <button type="submit" class="postcomment post-update hidden">Update changes</button>

            </div>
        </section>
    </main>
    <!-- <button id="getDataBtn">Get Data</button>
  <div id="dataContainer"></div>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      document.getElementById('getDataBtn').addEventListener('click', function () {
        console.log("hi");
        fetch('http://127.0.0.1:5000/get-data')
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.json();
          })
          .then(data => {
            let output = '<ul>';
            data.forEach(item => {
              output += <li>${item.name}</li>;
            });
            output += '</ul>';
            document.getElementById('dataContainer').innerHTML = output;
          })
          .catch(error => {
            console.error('Error:', error);
          });
      });
    });
  </script> -->

    <!-- Footer -->

    <!-- Button trigger modal -->


    <footer id="footer" class="bg-one">
        <div class="top-footer">
            <div class="container">
                <div class="row justify-content-around">
                    <div class="col-lg-5 col-md-6 mb-5 mb-lg-0">
                        <h3>about</h3>
                        <p>Integer posuere erat a ante venenati dapibus posuere velit aliquet. Fusce dapibus, tellus
                            cursus commodo,
                            tortor mauris sed posuere.</p>
                    </div>
                    <!-- End of .col-sm-3 -->

                    <!-- End of .col-sm-3 -->

                    <div class="col-lg-3 col-md-6 mb-5 mb-md-0">
                        <ul>
                            <li>
                                <h3>Our Services</h3>
                            </li>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="about.html">About us</a></li>
                            <li><a href="index.html">Resourses</a></li>
                            <li><a href="index.html">Community</a></li>
                            <li><a href="index.html">Strategies</a></li>
                            <li><a href="contact.html">Contact us</a></li>
                        </ul>
                    </div>
                    <!-- End of .col-sm-3 -->

                    <div class="col-lg-4 col-md-6">
                        <ul>
                            <li>
                                <h3>Connect with us Socially</h3>
                            </li>
                            <li><a href="https://www.youtube.com/channel/UCx9qVW8VF0LmTi4OF2F8YdA">Youtube</a></li>
                            <li><a href="https://www.twitter.com/themefisher/">Instagram</a></li>
                        </ul>
                    </div>
                    <!-- End of .col-sm-3 -->

                </div>
            </div> <!-- end container -->
        </div>
        <div class="footer-bottom">
            <h5>Breakout Zone</h5>
            <h5>&copy; Copyright 2024. All rights reserved.</h5>
        </div>
    </footer> <!-- end footer -->

    <!-- End Footer -->

    <!-- Scripts -->
    <script src="plugins/jquery/jquery.min.js"></script>
    <script src="plugins/bootstrap/bootstrap.min.js"></script>
    <script src="plugins/lightbox2/js/lightbox.min.js"></script>
    <script src="plugins/slick/slick.min.js"></script>
    <script src="plugins/filterizr/jquery.filterizr.min.js"></script>
    <script src="plugins/parallax/jquery.parallax-1.1.3.js"></script>
    <script src="plugins/smooth-scroll/smooth-scroll.min.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/script.js"></script>
    <script>
        window.addEventListener('load', function () {
            document.getElementById('preloader').classList.add('hidden');
        });
        // Prevent closing the menu when clicking inside it
        document.getElementById('options-menu').addEventListener('click', function (event) {
            event.stopPropagation();
        });


        // document.querySelector('.fa-ellipsis-vertical').addEventListener('click', function() {
        //   const menu = this.nextElementSibling;
        //   menu.classList.toggle('hidden');
        // });
        document.querySelector(".icon-1").addEventListener("click", function () {
            document.getElementById('options-menu').style.display = "none";
            // Make all p and h3 elements inside .post-container contenteditable
            document.querySelectorAll(".post-card p, .post-card h3").forEach(function (element) {
                element.setAttribute("contenteditable", "true");
            });
            document.querySelector(".post-card h3").focus();
            document.querySelector(".update-image").classList.add("update-image-style");
            document.querySelector(".delete-image").classList.add("delete-image-style");
            document.querySelector(".post-update").classList.remove("hidden");
            document.querySelector(".contenteditable-area").classList.add("contenteditable-area-style");
            document.querySelector(".blog-time").style.display = "none";
        });
        document.querySelector(".post-img-delete").addEventListener("click", function () {
            document.querySelector("#profilePostImage").remove();
            document.querySelector(".delete-image").style.display = "none";
        })
        // Toggle the menu visibility when clicking the options icon
        document.getElementById('options-icon').addEventListener('click', function (event) {
            const menu = document.getElementById('options-menu');
            menu.classList.toggle('hidden');

            // Prevent the click from closing the menu immediately
            event.stopPropagation();
        });
        // Close the menu if clicking anywhere outside of it
        document.addEventListener('click', function () {
            const menu = document.getElementById('options-menu');
            if (!menu.classList.contains('hidden')) {
                menu.classList.add('hidden');
            }
        });

    </script>
</body>

</html>